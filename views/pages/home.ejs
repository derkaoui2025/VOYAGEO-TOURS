<!DOCTYPE html>
<html lang="en">
<head>
    <%- include('../partials/head') %>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@8/swiper-bundle.min.css" />
    <style>
        /* Custom styles for homepage */
        .hero-video-container {
            position: relative;
            height: 85vh;
            width: 100%;
            overflow: hidden;
        }
        
        .hero-video {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        
        .hero-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(to bottom, rgba(0,0,0,0.4) 0%, rgba(0,0,0,0.7) 100%);
        }
        
        .hero-content {
            position: relative;
            z-index: 10;
            height: 100%;
        }
        
        .service-card {
            transition: all 0.3s ease;
        }
        
        .service-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
        }
        
        .experience-card {
            height: 350px;
            background-size: cover;
            background-position: center;
            position: relative;
            overflow: hidden;
            transition: all 0.5s ease;
        }
        
        .experience-card:hover {
            transform: scale(1.03);
        }
        
        .experience-card::before {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 70%;
            background: linear-gradient(to top, rgba(0,0,0,0.8) 0%, rgba(0,0,0,0) 100%);
        }
        
        .swiper-pagination-bullet {
            background: white;
            opacity: 0.7;
        }
        
        .swiper-pagination-bullet-active {
            opacity: 1;
            background: #e67e22;
        }
        
        .testimonial-card {
            transition: all 0.3s ease;
        }
        
        .testimonial-card:hover {
            transform: translateY(-5px);
        }
        
        .section-heading {
            position: relative;
            display: inline-block;
        }
        
        .section-heading::after {
            content: '';
            position: absolute;
            bottom: -10px;
            left: 0;
            width: 60px;
            height: 3px;
            background-color: #e67e22;
        }
        
        @media (max-width: 768px) {
            .hero-video-container {
                height: 70vh;
            }
        }
    </style>
</head>

<body class="bg-gray-50 font-opensans text-gray-800">
    <%- include('../partials/navbar') %>
    
    <!-- Hero Section with Video Background -->
    <div class="hero-video-container">
        <video class="hero-video" autoplay muted loop playsinline>
            <source src="/videos/morocco-hero.mp4" type="video/mp4">
            <!-- Fallback image if video doesn't load -->
            <img src="/images/headers/morocco-banner.jpg" alt="Morocco Landscapes">
        </video>
        <div class="hero-overlay"></div>
        <div class="hero-content flex items-center justify-center">
            <div class="container mx-auto px-4 text-center text-white">
                <h1 class="text-4xl md:text-6xl font-bold mb-4 font-montserrat">Discover The Magic of Morocco</h1>
                <p class="text-xl md:text-2xl mb-8 max-w-3xl mx-auto">Unforgettable adventures through ancient cities, breathtaking landscapes, and the vibrant culture of Morocco</p>
                <div class="flex flex-wrap justify-center gap-4">
                    <a href="/tours" class="btn bg-warning hover:bg-warning/90 text-white border-0 px-8 py-3 rounded-md">Explore Tours</a>
                    <a href="/contact" class="btn bg-transparent hover:bg-white/10 text-white border border-white px-8 py-3 rounded-md">Contact Us</a>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Services Overview Section -->
    <section class="py-16 bg-white">
        <div class="container mx-auto px-4">
            <div class="text-center mb-12">
                <h2 class="text-3xl md:text-4xl font-bold text-secondary section-heading inline-block mb-4">Our Services</h2>
                <p class="text-xl text-gray-600 mt-8 max-w-3xl mx-auto">Experience the best of Morocco with our professional services tailored to create unforgettable memories</p>
            </div>
            
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8">
                <!-- Service 1: Tours -->
                <div class="service-card bg-white rounded-lg overflow-hidden shadow-md">
                    <div class="h-48 bg-cover bg-center" style="background-image: url('/images/services/tours.jpg')"></div>
                    <div class="p-6">
                        <div class="w-12 h-12 rounded-full bg-warning/10 flex items-center justify-center mb-4">
                            <i class="fas fa-route text-warning text-xl"></i>
                        </div>
                        <h3 class="text-xl font-semibold mb-2 text-secondary">Tours</h3>
                        <p class="text-gray-600 mb-4">Multi-day adventures exploring Morocco's most stunning destinations with experienced guides.</p>
                        <a href="/tours" class="text-warning font-medium hover:underline flex items-center">
                            Discover Tours <i class="fas fa-arrow-right ml-2"></i>
                        </a>
                    </div>
                </div>
                
                <!-- Service 2: Excursions -->
                <div class="service-card bg-white rounded-lg overflow-hidden shadow-md">
                    <div class="h-48 bg-cover bg-center" style="background-image: url('/images/services/excursions.jpg')"></div>
                    <div class="p-6">
                        <div class="w-12 h-12 rounded-full bg-warning/10 flex items-center justify-center mb-4">
                            <i class="fas fa-hiking text-warning text-xl"></i>
                        </div>
                        <h3 class="text-xl font-semibold mb-2 text-secondary">Excursions</h3>
                        <p class="text-gray-600 mb-4">Day trips to remarkable locations including desert excursions and mountain experiences.</p>
                        <a href="/excursions" class="text-warning font-medium hover:underline flex items-center">
                            Browse Excursions <i class="fas fa-arrow-right ml-2"></i>
                        </a>
                    </div>
                </div>
                
                <!-- Service 3: Activities -->
                <div class="service-card bg-white rounded-lg overflow-hidden shadow-md">
                    <div class="h-48 bg-cover bg-center" style="background-image: url('/images/services/activities.jpg')"></div>
                    <div class="p-6">
                        <div class="w-12 h-12 rounded-full bg-warning/10 flex items-center justify-center mb-4">
                            <i class="fas fa-star text-warning text-xl"></i>
                        </div>
                        <h3 class="text-xl font-semibold mb-2 text-secondary">Activities</h3>
                        <p class="text-gray-600 mb-4">Cultural experiences, workshops, and authentic Moroccan activities led by local experts.</p>
                        <a href="/activities" class="text-warning font-medium hover:underline flex items-center">
                            Explore Activities <i class="fas fa-arrow-right ml-2"></i>
                        </a>
                    </div>
                </div>
                
                <!-- Service 4: Transfers -->
                <div class="service-card bg-white rounded-lg overflow-hidden shadow-md">
                    <div class="h-48 bg-cover bg-center" style="background-image: url('/images/services/transfers.jpg')"></div>
                    <div class="p-6">
                        <div class="w-12 h-12 rounded-full bg-warning/10 flex items-center justify-center mb-4">
                            <i class="fas fa-car text-warning text-xl"></i>
                        </div>
                        <h3 class="text-xl font-semibold mb-2 text-secondary">Transfers</h3>
                        <p class="text-gray-600 mb-4">Comfortable and reliable transportation between cities and airports across Morocco.</p>
                        <a href="/transfers" class="text-warning font-medium hover:underline flex items-center">
                            View Transfers <i class="fas fa-arrow-right ml-2"></i>
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </section>
    
    <!-- Featured Tours Section -->
    <section class="py-16 bg-gray-100">
        <div class="container mx-auto px-4">
            <div class="flex flex-col md:flex-row justify-between items-center mb-12">
                <div>
                    <h2 class="text-3xl md:text-4xl font-bold text-secondary section-heading">Popular Tours</h2>
                    <p class="text-xl text-gray-600 mt-8">Discover our most beloved Morocco adventures</p>
                </div>
                <a href="/tours" class="mt-4 md:mt-0 bg-secondary hover:bg-secondary/90 text-white px-6 py-3 rounded-md font-medium">View All Tours</a>
            </div>
            
            <% if (featuredTours && featuredTours.length > 0) { %>
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                    <% featuredTours.slice(0, 3).forEach(tour => { %>
                        <div class="bg-white rounded-lg overflow-hidden shadow-md transition-all duration-300 hover:shadow-xl">
                            <a href="/tours/<%= tour.slug %>" class="block">
                                <div class="relative h-64 overflow-hidden">
                                    <img 
                                        src="<%= tour.mainImage %>" 
                                        alt="<%= tour.title %>" 
                                        class="w-full h-full object-cover transition-transform duration-700 hover:scale-110"
                                    >
                                    <div class="absolute top-4 left-4 bg-warning text-white px-4 py-1 rounded-full text-sm font-medium">
                                        <%= tour.duration %> Days
                                    </div>
                                </div>
                            </a>
                            <div class="p-6">
                                <div class="flex justify-between items-center mb-2">
                                    <span class="text-gray-600 text-sm flex items-center">
                                        <i class="fas fa-map-marker-alt text-warning mr-2"></i>
                                        <%= tour.startLocation %>
                                    </span>
                                    <span class="text-warning font-bold">
                                        <%= tour.price.toLocaleString() %> MAD
                                    </span>
                                </div>
                                <h3 class="text-xl font-semibold mb-3 text-secondary">
                                    <a href="/tours/<%= tour.slug %>" class="hover:text-warning transition-colors">
                                        <%= tour.title %>
                                    </a>
                                </h3>
                                <p class="text-gray-600 mb-4 line-clamp-2">
                                    <%= tour.shortDescription || tour.description.substring(0, 120) + '...' %>
                                </p>
                                <a href="/tours/<%= tour.slug %>" class="inline-block w-full text-center bg-warning hover:bg-warning/90 text-white font-semibold py-2 px-4 rounded transition-all duration-300">
                                    View Details
                                </a>
                            </div>
                        </div>
                    <% }) %>
                </div>
            <% } else { %>
                <div class="text-center my-16 bg-white rounded-lg p-8 shadow-sm">
                    <div class="w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4">
                        <i class="fas fa-route text-gray-400 text-xl"></i>
                    </div>
                    <h2 class="text-2xl text-gray-600 mb-2">No tours available yet</h2>
                    <p class="text-gray-500">Check back soon for exciting Morocco tours!</p>
                </div>
            <% } %>
        </div>
    </section>
    
    <!-- Featured Excursions Section -->
    <section class="py-16 bg-white">
        <div class="container mx-auto px-4">
            <div class="flex flex-col md:flex-row justify-between items-center mb-12">
                <div>
                    <h2 class="text-3xl md:text-4xl font-bold text-secondary section-heading">Day Excursions</h2>
                    <p class="text-xl text-gray-600 mt-8">Explore Morocco's best day trips from major cities</p>
                </div>
                <a href="/excursions" class="mt-4 md:mt-0 bg-secondary hover:bg-secondary/90 text-white px-6 py-3 rounded-md font-medium">View All Excursions</a>
            </div>
            
            <% if (typeof featuredExcursions !== 'undefined' && featuredExcursions && featuredExcursions.length > 0) { %>
                <!-- Desktop & Tablet Layout -->
                <div class="hidden md:grid md:grid-cols-3 lg:grid-cols-4 gap-6">
                    <% featuredExcursions.slice(0, 4).forEach((excursion, index) => { %>
                        <div class="<%= index === 0 ? 'md:col-span-2 md:row-span-2' : '' %>">
                            <div class="bg-white rounded-xl overflow-hidden shadow-md h-full transition-all duration-300 hover:shadow-lg border border-gray-100">
                                <div class="relative <%= index === 0 ? 'h-72' : 'h-56' %> overflow-hidden">
                                    <img 
                                        src="<%= excursion.gallery && excursion.gallery.length > 0 ? excursion.gallery[0] : '/images/placeholder.jpg' %>" 
                                        alt="<%= excursion.title %>"
                                        class="w-full h-full object-cover transition-transform duration-500 hover:scale-105"
                                    >
                                    <div class="absolute top-4 left-4 bg-warning text-white px-3 py-1 rounded-full text-xs font-medium">
                                        <%= excursion.duration %> <%= excursion.durationType %>
                                    </div>
                                    <div class="absolute inset-0 bg-gradient-to-t from-black/60 to-transparent opacity-<%= index === 0 ? '0' : '80' %>"></div>
                                </div>
                                
                                <div class="p-5">
                                    <div class="flex items-start justify-between">
                                        <h3 class="text-lg <%= index === 0 ? 'text-xl' : '' %> font-bold text-secondary mb-3">
                                            <%= excursion.title %>
                                        </h3>
                                       
                                    </div>
                                    
                                    <div class="flex items-center text-gray-600 mb-4">
                                        <i class="fas fa-map-marker-alt text-warning mr-2"></i>
                                        <span><%= excursion.startLocation %></span>
                                    </div>
                                    
                                    <% if (index === 0 && excursion.shortDescription) { %>
                                        <p class="text-gray-600 mb-4 line-clamp-2"><%= excursion.shortDescription %></p>
                                    <% } %>
                                    
                                    <a href="/excursions/<%= excursion.slug %>" class="inline-block w-full text-center bg-warning hover:bg-warning/90 text-white font-semibold py-2 px-4 rounded transition-all duration-300">
                                        View Details
                                    </a>
                                </div>
                            </div>
                        </div>
                    <% }); %>
                </div>
                
                <!-- Mobile Carousel -->
                <div class="md:hidden">
                    <div class="swiper excursions-swiper">
                        <div class="swiper-wrapper pb-12">
                            <% featuredExcursions.forEach(excursion => { %>
                                <div class="swiper-slide p-2">
                                    <div class="bg-white rounded-xl overflow-hidden shadow-md border border-gray-100">
                                        <div class="relative h-48 overflow-hidden">
                                            <img 
                                                src="<%= excursion.gallery && excursion.gallery.length > 0 ? excursion.gallery[0] : '/images/placeholder.jpg' %>" 
                                                alt="<%= excursion.title %>" 
                                                class="w-full h-full object-cover"
                                            >
                                            <div class="absolute top-3 left-3 bg-warning text-white px-3 py-1 rounded-full text-xs font-medium">
                                                <%= excursion.duration %> <%= excursion.durationType %>
                                            </div>
                                        </div>
                                        <div class="p-4">
                                            <div class="flex justify-between items-start mb-2">
                                                <h3 class="text-lg font-bold text-secondary"><%= excursion.title %></h3>
                                            </div>
                                            <div class="flex items-center text-sm text-gray-600 mb-3">
                                                <i class="fas fa-map-marker-alt text-warning mr-2"></i>
                                                <span><%= excursion.startLocation %></span>
                                            </div>
                                            <a href="/excursions/<%= excursion.slug %>" class="inline-block w-full text-center bg-warning hover:bg-warning/90 text-white font-semibold py-2 px-4 rounded transition-all duration-300">
                                                View Details
                                            </a>
                                        </div>
                                    </div>
                                </div>
                            <% }); %>
                        </div>
                        <div class="swiper-pagination"></div>
                    </div>
                </div>
            <% } else { %>
                <div class="text-center my-16 bg-white rounded-lg p-8 shadow-sm border border-gray-100">
                    <div class="w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4">
                        <i class="fas fa-hiking text-gray-400 text-xl"></i>
                    </div>
                    <h2 class="text-2xl text-gray-600 mb-2">No excursions available yet</h2>
                    <p class="text-gray-500">Check back soon for exciting day trips around Morocco!</p>
                </div>
            <% } %>
        </div>
    </section>
    
    <!-- Activities & Transfers Combined Section -->
    <section class="py-16 bg-gray-100">
        <div class="container mx-auto px-4">
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-16">
                <!-- Activities Side -->
                <div>
                    <div class="flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8">
                        <div>
                            <h2 class="text-2xl md:text-3xl font-bold text-secondary section-heading">Local Activities</h2>
                            <p class="text-lg text-gray-600 mt-8">Experience authentic Moroccan culture</p>
                        </div>
                        <a href="/activities" class="mt-4 sm:mt-0 text-warning font-medium hover:underline flex items-center">
                            All Activities <i class="fas fa-arrow-right ml-2"></i>
                        </a>
                    </div>
                    
                    <% if (typeof featuredActivities !== 'undefined' && featuredActivities && featuredActivities.length > 0) { %>
                        <!-- Desktop View -->
                        <div class="hidden sm:block">
                            <div class="space-y-6">
                                <% featuredActivities.slice(0, 3).forEach(activity => { %>
                                    <div class="flex bg-white rounded-lg overflow-hidden shadow-sm hover:shadow-md transition-all duration-300">
                                        <div class="w-1/3 min-w-[100px] relative">
                                            <a href="/activities/<%= activity.slug %>">
                                                <img 
                                                    src="<%= activity.gallery && activity.gallery.length > 0 ? activity.gallery[0] : '/images/placeholder.jpg' %>" 
                                                    alt="<%= activity.title %>" 
                                                    class="w-full h-full object-cover"
                                                >
                                            </a>
                                        </div>
                                        <div class="w-2/3 p-4">
                                            <h3 class="text-lg font-semibold mb-1 text-secondary">
                                                <a href="/activities/<%= activity.slug %>" class="hover:text-warning transition-colors">
                                                    <%= activity.title %>
                                                </a>
                                            </h3>
                                            <div class="flex items-center text-sm text-gray-600 mb-2">
                                                <i class="fas fa-map-marker-alt text-warning mr-1"></i>
                                                <span><%= activity.location || 'Morocco' %></span>
                                                <span class="mx-2">•</span>
                                                <i class="fas fa-clock text-warning mr-1"></i>
                                                <span><%= activity.duration %> <%= activity.durationType %></span>
                                            </div>
                                            <div class="flex justify-between items-center mt-2">
                                                <span class="text-warning font-bold"><%= activity.price.toLocaleString() %> MAD</span>
                                                <a href="/activities/<%= activity.slug %>" class="text-sm text-secondary hover:text-warning">More Info →</a>
                                            </div>
                                        </div>
                                    </div>
                                <% }) %>
                            </div>
                        </div>
                        
                        <!-- Mobile View Carousel -->
                        <div class="sm:hidden">
                            <div class="swiper activities-swiper">
                                <div class="swiper-wrapper pb-10">
                                    <% featuredActivities.forEach(activity => { %>
                                        <div class="swiper-slide p-2">
                                            <div class="bg-white rounded-lg overflow-hidden shadow-sm">
                                                <div class="relative h-48">
                                                    <img 
                                                        src="<%= activity.gallery && activity.gallery.length > 0 ? activity.gallery[0] : '/images/placeholder.jpg' %>" 
                                                        alt="<%= activity.title %>" 
                                                        class="w-full h-full object-cover"
                                                    >
                                                    <div class="absolute top-2 left-2 bg-warning text-white text-xs px-2 py-1 rounded-full">
                                                        <%= activity.duration %> <%= activity.durationType %>
                                                    </div>
                                                </div>
                                                <div class="p-4">
                                                    <h3 class="text-lg font-semibold mb-1 text-secondary">
                                                        <%= activity.title %>
                                                    </h3>
                                                    <div class="flex justify-between mt-2">
                                                        <span class="text-gray-600 text-sm flex items-center">
                                                            <i class="fas fa-map-marker-alt text-warning mr-1"></i>
                                                            <%= activity.location || 'Morocco' %>
                                                        </span>
                                                        <span class="text-warning font-bold"><%= activity.price.toLocaleString() %> MAD</span>
                                                    </div>
                                                    <a href="/activities/<%= activity.slug %>" class="mt-3 inline-block w-full text-center bg-warning/90 hover:bg-warning text-white text-sm py-2 px-3 rounded">
                                                        View Details
                                                    </a>
                                                </div>
                                            </div>
                                        </div>
                                    <% }) %>
                                </div>
                                <div class="swiper-pagination"></div>
                            </div>
                        </div>
                    <% } else { %>
                        <div class="text-center my-8 bg-white p-8 rounded-lg shadow-sm">
                            <div class="w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4">
                                <i class="fas fa-star text-gray-400 text-xl"></i>
                            </div>
                            <h2 class="text-xl text-gray-600 mb-2">No activities available yet</h2>
                            <p class="text-gray-500">Check back soon for authentic Moroccan activities!</p>
                        </div>
                    <% } %>
                </div>
                
                <!-- Transfers Side -->
                <div>
                    <div class="flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8">
                        <div>
                            <h2 class="text-2xl md:text-3xl font-bold text-secondary section-heading">City Transfers</h2>
                            <p class="text-lg text-gray-600 mt-8">Comfortable transportation between Moroccan cities</p>
                        </div>
                        <a href="/transfers" class="mt-4 sm:mt-0 text-warning font-medium hover:underline flex items-center">
                            All Transfers <i class="fas fa-arrow-right ml-2"></i>
                        </a>
                    </div>
                    
                    <div class="bg-white rounded-lg shadow-md p-6">
                        <div class="grid grid-cols-1 gap-4">
                            <% if (typeof popularTransfers !== 'undefined' && popularTransfers && popularTransfers.length > 0) { %>
                                <% popularTransfers.forEach((transfer, index) => { 
                                    const isLast = index === popularTransfers.length - 1;
                                %>
                                    <div class="flex items-center justify-between p-4 <%= !isLast ? 'border-b' : '' %>">
                                        <div>
                                            <div class="font-semibold text-secondary"><%= transfer.startCity %> → <%= transfer.endCity %></div>
                                            <div class="text-sm text-gray-600"><%= transfer.duration %> • <%= transfer.vehicleType || 'Private Vehicle' %></div>
                                        </div>
                                        <a href="/transfers/<%= transfer.slug %>" class="bg-warning text-white px-4 py-2 rounded text-sm hover:bg-warning/90 transition-colors">View</a>
                                    </div>
                                <% }); %>
                            <% } else { %>
                                <!-- Display message when no transfers are available -->
                                <div class="text-center p-6">
                                    <div class="w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4">
                                        <i class="fas fa-car text-gray-400 text-xl"></i>
                                    </div>
                                    <h3 class="text-xl text-gray-600 mb-2">No transfers available yet</h3>
                                    <p class="text-gray-500 mb-6">Check back soon for Morocco city transfers</p>
                                </div>
                            <% } %>
                        </div>
                        
                        <div class="mt-6 text-center">
                            <a href="/transfers/custom" class="inline-block w-full py-3 bg-secondary hover:bg-secondary/90 text-white rounded transition-colors">
                                <i class="fas fa-car-side mr-2"></i> Request Custom Transfer
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
    
    <!-- Testimonials Section -->
    <section class="py-16 bg-white">
        <div class="container mx-auto px-4">
            <div class="text-center mb-12">
                <h2 class="text-3xl md:text-4xl font-bold text-secondary section-heading inline-block">What Our Clients Say</h2>
                <p class="text-xl text-gray-600 mt-8 max-w-3xl mx-auto">Read authentic reviews from travelers who experienced our services</p>
            </div>
            
            <div class="swiper testimonial-swiper">
                <div class="swiper-wrapper pb-12">
                    <!-- Testimonial 1 -->
                    <div class="swiper-slide p-4">
                        <div class="testimonial-card bg-gray-50 rounded-lg p-6 h-full">
                            <div class="flex items-center mb-4">
                                <div class="w-12 h-12 rounded-full bg-warning/20 flex items-center justify-center mr-4">
                                    <span class="text-warning font-bold">JM</span>
                                </div>
                                <div>
                                    <h4 class="font-semibold">James Miller</h4>
                                    <div class="flex text-warning">
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                    </div>
                                </div>
                            </div>
                            <p class="text-gray-600 italic">
                                "Our 7-day desert tour was absolutely incredible! Mohammed, our guide, was knowledgeable and personable. The accommodations were comfortable and the food was delicious. Highly recommend!"
                            </p>
                            <div class="mt-4 text-sm text-gray-500">Marrakech to Merzouga Desert Tour</div>
                        </div>
                    </div>
                    
                    <!-- Testimonial 2 -->
                    <div class="swiper-slide p-4">
                        <div class="testimonial-card bg-gray-50 rounded-lg p-6 h-full">
                            <div class="flex items-center mb-4">
                                <div class="w-12 h-12 rounded-full bg-warning/20 flex items-center justify-center mr-4">
                                    <span class="text-warning font-bold">SC</span>
                                </div>
                                <div>
                                    <h4 class="font-semibold">Sarah Chen</h4>
                                    <div class="flex text-warning">
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                    </div>
                                </div>
                            </div>
                            <p class="text-gray-600 italic">
                                "The cooking class in Fes was a highlight of our trip! We learned to make authentic tagine and couscous, and the host family was so welcoming. A must-do for any foodie visiting Morocco."
                            </p>
                            <div class="mt-4 text-sm text-gray-500">Traditional Moroccan Cooking Class</div>
                        </div>
                    </div>
                    
                    <!-- Testimonial 3 -->
                    <div class="swiper-slide p-4">
                        <div class="testimonial-card bg-gray-50 rounded-lg p-6 h-full">
                            <div class="flex items-center mb-4">
                                <div class="w-12 h-12 rounded-full bg-warning/20 flex items-center justify-center mr-4">
                                    <span class="text-warning font-bold">DP</span>
                                </div>
                                <div>
                                    <h4 class="font-semibold">David Patterson</h4>
                                    <div class="flex text-warning">
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star-half-alt"></i>
                                    </div>
                                </div>
                            </div>
                            <p class="text-gray-600 italic">
                                "We used Voyageo for all our transfers in Morocco. The drivers were always on time, professional, and the vehicles were comfortable. Made traveling between cities so much easier!"
                            </p>
                            <div class="mt-4 text-sm text-gray-500">Multiple City Transfers</div>
                        </div>
                    </div>
                    
                    <!-- Testimonial 4 -->
                    <div class="swiper-slide p-4">
                        <div class="testimonial-card bg-gray-50 rounded-lg p-6 h-full">
                            <div class="flex items-center mb-4">
                                <div class="w-12 h-12 rounded-full bg-warning/20 flex items-center justify-center mr-4">
                                    <span class="text-warning font-bold">EJ</span>
                                </div>
                                <div>
                                    <h4 class="font-semibold">Emma Johnson</h4>
                                    <div class="flex text-warning">
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                    </div>
                                </div>
                            </div>
                            <p class="text-gray-600 italic">
                                "The day trip to Ouzoud Falls was breathtaking! Our guide was informative and took us to the best spots for photos. Saw lots of monkeys too! Perfectly organized excursion."
                            </p>
                            <div class="mt-4 text-sm text-gray-500">Ouzoud Waterfalls Day Trip</div>
                        </div>
                    </div>
                </div>
                <div class="swiper-pagination"></div>
            </div>
        </div>
    </section>
    
    <!-- Custom Morocco Experience CTA -->
    <section class="py-20 bg-cover bg-center relative" style="background-image: url('/images/custom-tour-bg.jpg');">
        <div class="absolute inset-0 bg-black/70"></div>
        <div class="container mx-auto px-4 relative z-10 text-center text-white">
            <h2 class="text-3xl md:text-4xl font-bold mb-4">Create Your Custom Morocco Experience</h2>
            <p class="text-xl mb-8 max-w-3xl mx-auto">
                Looking for something unique? Let us design a personalized itinerary tailored to your preferences and interests.
            </p>
            <div class="flex flex-wrap justify-center gap-4">
                <a href="/customize" class="btn bg-warning hover:bg-warning/90 text-white border-0 px-8 py-3 rounded-md">
                    <i class="fas fa-pencil-alt mr-2"></i> Customize Your Tour
                </a>
                <a href="/transfers/custom" class="btn bg-white hover:bg-white/90 text-secondary border-0 px-8 py-3 rounded-md">
                    <i class="fas fa-car-side mr-2"></i> Request Custom Transfer
                </a>
            </div>
        </div>
    </section>
    
    <%- include('../partials/footer') %>
    
    <script src="https://cdn.jsdelivr.net/npm/swiper@8/swiper-bundle.min.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Initialize testimonials slider
            const testimonialSwiper = new Swiper('.testimonial-swiper', {
                slidesPerView: 1,
                spaceBetween: 30,
                pagination: {
                    el: '.swiper-pagination',
                    clickable: true,
                },
                breakpoints: {
                    640: {
                        slidesPerView: 2,
                    },
                    1024: {
                        slidesPerView: 3,
                    },
                }
            });
            
            // Initialize excursions slider for mobile
            const excursionsSwiper = new Swiper('.excursions-swiper', {
                slidesPerView: 1.2,
                spaceBetween: 10,
                centeredSlides: false,
                pagination: {
                    el: '.swiper-pagination',
                    clickable: true,
                },
                breakpoints: {
                    480: {
                        slidesPerView: 1.5,
                    },
                }
            });
            
            // Initialize activities slider for mobile
            const activitiesSwiper = new Swiper('.activities-swiper', {
                slidesPerView: 1.2,
                spaceBetween: 10,
                centeredSlides: false,
                pagination: {
                    el: '.swiper-pagination',
                    clickable: true,
                },
                breakpoints: {
                    480: {
                        slidesPerView: 1.5,
                    },
                }
            });
            
            // Lazy load images
            const lazyImages = document.querySelectorAll('.lazy-image');
            
            if ('IntersectionObserver' in window) {
                const imageObserver = new IntersectionObserver((entries, observer) => {
                    entries.forEach(entry => {
                        if (entry.isIntersecting) {
                            const image = entry.target;
                            image.src = image.dataset.src;
                            image.classList.remove('lazy-image');
                            imageObserver.unobserve(image);
                        }
                    });
                });
                
                lazyImages.forEach(image => {
                    imageObserver.observe(image);
                });
            } else {
                // Fallback for browsers without intersection observer
                lazyImages.forEach(image => {
                    image.src = image.dataset.src;
                });
            }
        });
    </script>
</body>
</html> 